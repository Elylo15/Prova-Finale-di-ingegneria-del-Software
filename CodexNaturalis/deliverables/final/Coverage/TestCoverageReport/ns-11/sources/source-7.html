


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > PlaceableCard</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">it.polimi.ingsw.model.cards</a>
</div>

<h1>Coverage Summary for Class: PlaceableCard (it.polimi.ingsw.model.cards)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">PlaceableCard</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (17/17)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    88,3%
  </span>
  <span class="absValue">
    (53/60)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (67/67)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package it.polimi.ingsw.model.cards;
&nbsp;
&nbsp;import com.fasterxml.jackson.annotation.JsonCreator;
&nbsp;import com.fasterxml.jackson.annotation.JsonProperty;
&nbsp;import it.polimi.ingsw.model.cards.enumeration.Reign;
&nbsp;import it.polimi.ingsw.model.cards.enumeration.Resource;
&nbsp;import it.polimi.ingsw.model.cards.exceptions.InvalidIdException;
&nbsp;
&nbsp;import java.io.Serializable;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Objects;
&nbsp;
&nbsp;/**
&nbsp; * This abstract class represents a card that can be placed on the board.
&nbsp; * It extends the Card class and implements the Serializable interface.
&nbsp; * It provides constructors for creating a PlaceableCard with different parameters.
&nbsp; */
&nbsp;public abstract class PlaceableCard extends Card implements Serializable {
&nbsp;    private final ArrayList&lt;Resource&gt; requirement;
&nbsp;    private int points;
&nbsp;    private Reign reign;
&nbsp;    private ArrayList&lt;Cell&gt; cells;
&nbsp;    private ArrayList&lt;Resource&gt; resources;
&nbsp;
&nbsp;    /**
&nbsp;     * This constructor creates a new PlaceableCard with the given ID.
&nbsp;     * It throws an InvalidIdException if the ID is not between 1 and 86.
&nbsp;     *
&nbsp;     * @param ID must be 1 &lt;= ID &lt;= 86
&nbsp;     * @throws InvalidIdException if the condition on ID is not met
&nbsp;     */
&nbsp;    public PlaceableCard(int ID) throws InvalidIdException {
<b class="fc">&nbsp;        super(ID, true);</b>
&nbsp;
<b class="fc">&nbsp;        this.requirement = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;        this.cells = new ArrayList&lt;&gt;();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * This constructor is used to load the cards from JSON.
&nbsp;     * It creates a new PlaceableCard with the given parameters.
&nbsp;     *
&nbsp;     * @param ID          must be 1 &lt;= ID &lt;= 86
&nbsp;     * @param front       true if the card is front, false if the card is back
&nbsp;     * @param requirement resources required to place the card
&nbsp;     * @param points      points given by the card
&nbsp;     * @param reign       reign of the card
&nbsp;     * @param cells       cells of the card
&nbsp;     * @param resources   resources of the card
&nbsp;     */
&nbsp;    @JsonCreator
&nbsp;    public PlaceableCard(@JsonProperty(&quot;ID&quot;) int ID,
&nbsp;                         @JsonProperty(&quot;front&quot;) boolean front,
&nbsp;                         @JsonProperty(&quot;requirement&quot;) ArrayList&lt;Resource&gt; requirement,
&nbsp;                         @JsonProperty(&quot;points&quot;) int points,
&nbsp;                         @JsonProperty(&quot;reign&quot;) Reign reign,
&nbsp;                         @JsonProperty(&quot;cells&quot;) ArrayList&lt;Cell&gt; cells,
&nbsp;                         @JsonProperty(&quot;resources&quot;) ArrayList&lt;Resource&gt; resources) throws InvalidIdException {
<b class="fc">&nbsp;        super(ID, front);</b>
<b class="fc">&nbsp;        this.requirement = requirement;</b>
<b class="fc">&nbsp;        this.points = points;</b>
<b class="fc">&nbsp;        this.reign = reign;</b>
<b class="fc">&nbsp;        this.cells = cells;</b>
<b class="fc">&nbsp;        this.resources = resources;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * This constructor creates a new PlaceableCard with the given parameters.
&nbsp;     * It throws an InvalidIdException if the ID is not between 1 and 86.
&nbsp;     *
&nbsp;     * @param ID          must be 1 &lt;= ID &lt;= 86
&nbsp;     * @param points      points given by the card
&nbsp;     * @param reign       reign of the card
&nbsp;     * @param front       true if the card is front, false if the card is back
&nbsp;     * @param resources   resources of the card
&nbsp;     * @param requirement resources required to place the card
&nbsp;     * @throws InvalidIdException if the condition on ID is not met
&nbsp;     */
&nbsp;    public PlaceableCard(int ID, int points, Reign reign, boolean front, ArrayList&lt;Resource&gt; resources, ArrayList&lt;Resource&gt; requirement) throws InvalidIdException {
<b class="fc">&nbsp;        super(ID, front);</b>
<b class="fc">&nbsp;        this.points = points;</b>
<b class="fc">&nbsp;        this.reign = reign;</b>
<b class="fc">&nbsp;        this.resources = resources;</b>
<b class="fc">&nbsp;        this.requirement = requirement;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Overrides the equals method from the Object class.
&nbsp;     * Compares two PlaceableCard objects to check for equality.
&nbsp;     *
&nbsp;     * @param o the object to be compared
&nbsp;     * @return true if the specified object is equal to this PlaceableCard, false otherwise.
&nbsp;     */
&nbsp;    @Override
&nbsp;    public boolean equals(Object o) {
<b class="fc">&nbsp;        if (this == o) return true;</b>
<b class="fc">&nbsp;        if (o == null || getClass() != o.getClass()) return false;</b>
<b class="fc">&nbsp;        PlaceableCard that = (PlaceableCard) o;</b>
<b class="pc">&nbsp;        return points == that.points &amp;&amp; this.isFront() == that.isFront() &amp;&amp; Objects.equals(requirement, that.requirement) &amp;&amp; reign == that.reign &amp;&amp;  Objects.equals(resources, that.resources);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Overrides the hashCode method from the Object class.
&nbsp;     *
&nbsp;     * @return the hash code of the PlaceableCard object.
&nbsp;     */
&nbsp;    @Override
&nbsp;    public int hashCode() {
<b class="fc">&nbsp;        return Objects.hash(requirement, points, reign, cells, resources);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns an ArrayList containing the resources the player must have to place the card
&nbsp;     *
&nbsp;     * @return an ArrayList&lt;Resource&gt;
&nbsp;     */
&nbsp;    public ArrayList&lt;Resource&gt; getRequirement() {
<b class="fc">&nbsp;        return requirement;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Check if the requirement to place the card is met, return true if the player possesses the
&nbsp;     * necessary resources in his PlayerArea
&nbsp;     * The requirement applies only if the player wants to play the front of the card
&nbsp;     *
&nbsp;     * @param req it receives as parameter an ArrayList containing the number of resources of each type
&nbsp;     *            the player possesses in his PlayerArea
&nbsp;     * @return a boolean
&nbsp;     */
&nbsp;    public boolean checkRequirement(ArrayList&lt;Integer&gt; req) {
<b class="fc">&nbsp;        if (this.isFront()) {</b>
<b class="fc">&nbsp;            int playgroundFungus = req.get(0);</b>
<b class="fc">&nbsp;            int playgroundInsect = req.get(1);</b>
<b class="fc">&nbsp;            int playgroundAnimal = req.get(2);</b>
<b class="fc">&nbsp;            int playgroundPlant = req.get(3);</b>
<b class="fc">&nbsp;            int cardFungus = 0;</b>
<b class="fc">&nbsp;            int cardPlant = 0;</b>
<b class="fc">&nbsp;            int cardAnimal = 0;</b>
<b class="fc">&nbsp;            int cardInsect = 0;</b>
<b class="fc">&nbsp;            ArrayList&lt;Resource&gt; requirement = this.getRequirement();</b>
<b class="fc">&nbsp;            for (Resource resource : requirement) {</b>
<b class="fc">&nbsp;                if (resource == Resource.Fungus) {</b>
<b class="fc">&nbsp;                    cardFungus++;</b>
&nbsp;                }
<b class="fc">&nbsp;                if (resource == Resource.Plant) {</b>
<b class="fc">&nbsp;                    cardPlant++;</b>
&nbsp;                }
<b class="fc">&nbsp;                if (resource == Resource.Animal) {</b>
<b class="fc">&nbsp;                    cardAnimal++;</b>
&nbsp;                }
<b class="fc">&nbsp;                if (resource == Resource.Insect) {</b>
<b class="fc">&nbsp;                    cardInsect++;</b>
&nbsp;                }
&nbsp;            }
<b class="pc">&nbsp;            return cardFungus &lt;= playgroundFungus &amp;&amp; cardPlant &lt;= playgroundPlant &amp;&amp; cardAnimal &lt;= playgroundAnimal &amp;&amp; cardInsect &lt;= playgroundInsect;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the reign of the card.
&nbsp;     *
&nbsp;     * @return the reign of the card
&nbsp;     */
&nbsp;    public Reign getReign() {
<b class="fc">&nbsp;        return reign;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the cells of the card.
&nbsp;     *
&nbsp;     * @return the cells of the card
&nbsp;     */
&nbsp;    public ArrayList&lt;Cell&gt; getCells() {
<b class="fc">&nbsp;        return new ArrayList&lt;&gt;(cells);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Given a list of cells, it updates the references to the new cells.
&nbsp;     *
&nbsp;     * @param cells ArrayList of Cells
&nbsp;     */
&nbsp;    public void setCells(ArrayList&lt;Cell&gt; cells) {
<b class="fc">&nbsp;        this.cells = cells;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the point associated with the card.
&nbsp;     *
&nbsp;     * @return the point associated with the card
&nbsp;     */
&nbsp;    public int getPoints() {
<b class="fc">&nbsp;        return points;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the resources of the card.
&nbsp;     *
&nbsp;     * @return the resources of the card
&nbsp;     */
&nbsp;    public ArrayList&lt;Resource&gt; getResource() {
<b class="fc">&nbsp;        if (this.isFront()) {</b>
<b class="fc">&nbsp;            return new ArrayList&lt;&gt;(this.resources);</b>
&nbsp;        } else {
<b class="fc">&nbsp;            ArrayList&lt;Resource&gt; backResources = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;            for (int i = 0; i &lt; 4; i++) {</b>
<b class="fc">&nbsp;                backResources.add(Resource.Empty);</b>
&nbsp;            }
<b class="fc">&nbsp;            return backResources;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Gold and Resource cards contain only one permanent resources in their back
&nbsp;     *
&nbsp;     * @return an Arraylist containing the permanent resource of the card
&nbsp;     */
&nbsp;    public ArrayList&lt;Resource&gt; getPermanentResource() {
<b class="fc">&nbsp;        ArrayList&lt;Resource&gt; resources = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;        if (!this.isFront()) {</b>
&nbsp;
<b class="fc">&nbsp;            if (this.reign == Reign.Fungus)</b>
<b class="fc">&nbsp;                resources.add(Resource.Fungus);</b>
&nbsp;
<b class="fc">&nbsp;            if (this.reign == Reign.Plant)</b>
<b class="fc">&nbsp;                resources.add(Resource.Plant);</b>
&nbsp;
<b class="fc">&nbsp;            if (this.reign == Reign.Animal)</b>
<b class="fc">&nbsp;                resources.add(Resource.Animal);</b>
&nbsp;
<b class="fc">&nbsp;            if (this.reign == Reign.Insect)</b>
<b class="fc">&nbsp;                resources.add(Resource.Insect);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return resources;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns true if the card is a resource card.
&nbsp;     *
&nbsp;     * @return true if the card is a resource card
&nbsp;     */
&nbsp;    public boolean isResource() {
<b class="pc">&nbsp;        return this.ID &gt;= 1 &amp;&amp; this.ID &lt;= 40;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns true if the card is a gold card.
&nbsp;     *
&nbsp;     * @return true if the card is a gold card
&nbsp;     */
&nbsp;    public boolean isGold() {
<b class="pc">&nbsp;        return this.ID &gt;= 41 &amp;&amp; this.ID &lt;= 80;</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns true if the card is a starter card.
&nbsp;     *
&nbsp;     * @return true if the card is a starter card
&nbsp;     */
&nbsp;    public boolean isStarter() {
<b class="pc">&nbsp;        return this.ID &gt;= 81 &amp;&amp; this.ID &lt;= 86;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Overrides the toString method from the Object class.
&nbsp;     *
&nbsp;     * @return a string representation of the PlaceableCard object.
&nbsp;     */
&nbsp;    @Override
&nbsp;    public String toString() {
<b class="fc">&nbsp;        return &quot;PlaceableCard{&quot; +</b>
&nbsp;                &quot;ID=&quot; + ID +
&nbsp;                &quot;, requirement=&quot; + requirement +
&nbsp;                &quot;, points=&quot; + points +
&nbsp;                &quot;, reign=&quot; + reign +
<b class="fc">&nbsp;                &quot;, front=&quot; + this.isFront() +</b>
&nbsp;                &quot;, resources=&quot; + resources +
&nbsp;                &#39;}&#39;;
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-06-26 22:00</div>
</div>
</body>
</html>
